---
layout: single
title:  "Pick me - 5. DB ì„¤ê³„"
categories: 
    - Pick me
tag: [Backend, Node.js, Express, JS, JQ, DB, Mysql, Sequelize, Multer]
toc: true
toc_sticky : true
author_profile: true
sidebar:
    nav: "docs"
date: 2022-10-24
last_modified_at: 2022-10-24
---

**Link :** [Art box - Gallery](http://118.67.142.110:8000/show_data "Art box - Gallery"){:target="_blank"}  

### ê°œìš”
#### ìˆœì„œ

1. ì‘í’ˆ ì¶œë ¥ <a class="header-link" href="#ì‘í’ˆ-ì¶œë ¥" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
> - 1ì¤„ì— 3ê°œ ì”© ë°˜ë³µ ì¶œë ¥<a class="header-link" href="#1ì¤„ì—-3ê°œ-ì”©-ë°˜ë³µ-ì¶œë ¥" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
> - ì‘í’ˆ í´ë¦­ ì‹œ <a class="header-link" href="#ì‘í’ˆ-í´ë¦­-ì‹œ" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
>> - SweetAlert2 ë¡œ ì‘í’ˆ í™•ëŒ€ ë° ì„¤ëª… ì¶œë ¥<a class="header-link" href="#sweetalert2-ë¡œ-ì‘í’ˆ-í™•ëŒ€-ë°-ì„¤ëª…-ì¶œë ¥" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>  
>> - ì‘í’ˆ ì„¤ëª… ì¶œë ¥ <a class="header-link" href="#ì‘í’ˆ-ì„¤ëª…-ì¶œë ¥" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a> 
>> - ë„¤ë¸Œë°” fadein/fadeout <a class="header-link" href="#ë„¤ë¸Œë°”-fadeinfadeout" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
2. ì‚¬ì´ë“œë°” ( Bootstrap - scrollspy ) <a class="header-link" href="#ì‚¬ì´ë“œë°”--bootstrap---scrollspy-" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
> - ì‘í’ˆê³¼ ì‹œëŒ€ ë§¤ì¹­ <a class="header-link" href="#ì‘í’ˆê³¼-ì‹œëŒ€-ë§¤ì¹­" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
> - ì‹œëŒ€ í´ë¦­ ì‹œ í•´ë‹¹ ì‘í’ˆìœ¼ë¡œ ì´ë™ <a class="header-link" href="#ì‹œëŒ€-í´ë¦­ ì‹œ-í•´ë‹¹-ì‘í’ˆìœ¼ë¡œ-ì´ë™" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>
> - í•´ë‹¹ ì‹œëŒ€ì— ë§ê²Œ ìŠ¤í¬ë¡¤ ë°” ìƒí•˜ ì´ë™ <a class="header-link" href="#í•´ë‹¹-ì‹œëŒ€ì—-ë§ê²Œ-ìŠ¤í¬ë¡¤-ë°”-ìƒí•˜-ì´ë™" title="Permalink"><span class="sr-only">Permalink</span><i class="fas fa-link"></i></a>

---

#### êµ¬ì¡°
> - ì‘í’ˆì´ ì¶œë ¥ë˜ëŠ” ê³µê°„  
>> ì—´ ( ROW )  
>>> ì—´ 3 ë“±ë¶„  
>>>> - ì‘í’ˆ  
>>>> - ì‘ê°€ëª…, ì‘í’ˆëª…
>
> - ì‚¬ì´ë“œ ë°” ê³µê°„  
>> ì—°ëŒ€  
>>> ì‹œëŒ€  

![print3](/videos/frame.gif)

---

### ì‘í’ˆ ì¶œë ¥


---

#### 1ì¤„ì— 3ê°œ ì”© ë°˜ë³µ ì¶œë ¥

ì¶œë ¥ì´ ë˜ì–´ì•¼ í•  ì°©í’ˆì˜ ê°œìˆ˜ = art_list.length  
í˜„ì¬ ì¶œë ¥ì´ ì™„ë£Œëœ ì‘í’ˆìˆ˜ = art_count

ë°˜ë³µë¬¸ê³¼ ì¡°ê±´ë¬¸ì„ í†µí•´ ëª¨ë“  ì‘í’ˆì´ ì¶œë ¥ ë  ë•Œ ê¹Œì§€
í•œ ì—´ì— 3ê°œì”© ì‘í’ˆì„ ì¶œë ¥.


<details markdown="1">
  <summary>ğŸ“ ì½”ë“œ</summary>

``` js
<% while (art_count <= art_list.length) { %>

    # ì‘í’ˆ 3ê°œë¥¼ ë‹´ì„ row <div> ìƒì„±

    <% for(var three=0; three<3; three++, art_count++) { %>
        <% if(art_count >= art_list.length) { %>
            <% break; %>
        <% } %>

        # row 1/3 í¬ê¸°ì˜ <div> ìƒì„±  
            # ì‘í’ˆ <div> ì™€ ì‘ê°€, ì‘ê°€ëª… <div>  

    <% } %>
<% } %>
```
</details>

<br>

![print3](/videos/div3.gif)

---

#### ì‘í’ˆ í´ë¦­ ì‹œ

---

##### SweetAlert2 ë¡œ ì‘í’ˆ í™•ëŒ€ ë° ì„¤ëª… ì¶œë ¥

onclick ì´ë²¤íŠ¸ë¥¼ í†µí•´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ sweetalert2 ì‹¤í–‰

<details markdown="1">
  <summary>ğŸ“ ì½”ë“œ</summary>

``` js
function sweet_alert(get_pic_src) {
    desc_title = decodeURI(get_pic_src.src.split('/').reverse()[0]).split('.')[0];
    art_title = desc_title.replace(/_/g, " ").replace(/-/g, " - ");

    Swal.fire({
        imageUrl: get_pic_src.src,
        html: "<b>" + art_title + "</b>" + "<br><br>" + art_desc[desc_title]
    })
}
```

</details>

---

##### ë„¤ë¸Œë°” fadein/fadeout  

&nbsp; ì‚¬ì§„ì„ í™•ëŒ€ì‹œ sweetalert2 ê°€ ì‹¤í–‰ë˜ë©°  
div íƒœê·¸ ë‚´ë¶€ì— swal2-container ë¼ëŠ” í´ë˜ìŠ¤ê°€ ìƒê¸°ëŠ” ê²ƒì„ í™•ì¸.  

&nbsp; eventlistener ë¥¼ í†µí•´ í´ë¦­ ì‹œì— div íƒœê·¸ ë‚´ë¶€ì— swal2-container ìœ ë¬´ë¥¼ í†µí•´  
ë„¤ë¸Œë°”ë¥¼ fadeout í•´ì¤€ë‹¤.

&nbsp; sweetalert2 ê°€ ì‚¬ë¼ì§„ ì´í›„ ë‹¤ì‹œ ì›ìƒ ë³µêµ¬ë¥¼ í•´ì•¼ í•œë‹¤.  
í•˜ì§€ë§Œ eventlistenerê°€ onclickì— ê±¸ë ¤ìˆê¸° ë•Œë¬¸ì— í´ë¦­ì„ í•˜ì§€ ì•Šì„ ê²½ìš°   
navbarê°€ ë³µêµ¬ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆê¸° ë•Œë¬¸ì—  
eventlistener ì— onscrollì„ ì¶”ê°€í•˜ì—¬ ì˜ˆìƒì¹˜ ëª»í•œ ìƒí™©ì— ëŒ€ì²˜.

<details markdown="1">
  <summary>ğŸ“ ì½”ë“œ</summary>

``` js
document.addEventListener('click', nav_fade);
document.addEventListener('scroll', nav_fade);

function nav_fade(){
    if($("div").hasClass("swal2-container")){
        $("#navbar").fadeOut(500);
    }else{
        $("#navbar").fadeIn(500);
    }
}
```
</details>

<br/>

![print3](/videos/sweetalert2.gif)

---

### ì‚¬ì´ë“œë°” ( Bootstrap - scrollspy )

---

##### ì‘í’ˆê³¼ ì‹œëŒ€ ë§¤ì¹­
##### ì‹œëŒ€ í´ë¦­ ì‹œ í•´ë‹¹ ì‘í’ˆìœ¼ë¡œ ì´ë™

<br/>

&nbsp; ìœ„ ë‘ ê°œëŠ” bootstrap - scrollspy ì‚¬ìš©ë²•ì— ë‚˜ì˜¨ëŒ€ë¡œ ì†ì„±ì„ ì¶”ê°€í•´ ì£¼ê³   
idë¥¼ íƒ€ê²ŸíŒ… í•´ ì£¼ë©´ ìë™ìœ¼ë¡œ ì‘ë™ í•˜ì˜€ë‹¤.

<details markdown="1">
  <summary>ğŸ“ ì½”ë“œ</summary>

``` js
// ì‘í’ˆì´ ì¶œë ¥ë˜ëŠ” div 
// scrollspy ì˜ íƒ€ê²Ÿìœ¼ë¡œ ì„¤ì •
<div class="col-8 col-lg-10" id="img_container" data-bs-spy="scroll" data-bs-target="#navbar-example3" data-bs-offset="0" tabindex="0">

----------------------------------------

// scrolspy ì¶œë ¥ ë¶€ë¶„
<div class="col-4 col-lg-2" id="scrollspy_container" >

// scrollspy ë¶€ë¶„ì˜ ì„¤ì •ëœ íƒ€ê²Ÿì„ idì— ì…ë ¥
    <nav id="navbar-example3" class="navbar navbar-light bg-light flex-column align-items-stretch p-3">
        <nav class="nav nav-pills flex-column">


            // ì—°ëŒ€ ì¶œë ¥ í•˜ëŠ” ë°˜ë³µë¬¸ ( ê³ ëŒ€, ì¤‘ì„¸, ê·¼ì„¸, ... )
            // idë¥¼ í†µí•´ í•´ë‹¹ ì—°ëŒ€ê³¼ ë§¤ì¹­
            <%for(var i=0; i< artbox_data[0].length; i++) { %>
                <% var first_id="#" + artbox_data[0][i] %>
                <a class="nav-link a_tag" href= <%= first_id %> > <%= artbox_data[0][i] %> </a>
                <nav class="nav nav-pills flex-column">
                    <% var big_title = artbox_data[1][i]%>

                    // ì‹œëŒ€ ì¶œë ¥í•˜ëŠ” ë°˜ë³µë¬¸ ( ë¥´ë„¤ìƒìŠ¤, ë°”ë¡œí¬, ... )
                    // idë¥¼ í†µí•´ í•´ë‹¹ ì‹œëŒ€ì™€ ë§¤ì¹­
                    <%for(var mini_title in big_title) { %>
                        <% var second_id="#" + mini_title %>
                        <a class="nav-link ms-3 my-1 a_tag" href= <%=  second_id %> > <%= mini_title %> </a>
                    <% } %>
                </nav>
            <% } %>
        </nav>
    </nav>
</div>
```
</details>

<br/>

![print3](/videos/scrollspy1.gif)

---

##### í•´ë‹¹ ì‹œëŒ€ì— ë§ê²Œ ìŠ¤í¬ë¡¤ ë°” ìƒí•˜ ì´ë™

&nbsp; í˜„ì¬ í™”ë©´ì˜ ìœ„ì¹˜í•´ ìˆëŠ” ì‹œëŒ€ì— ë§ì¶° scrollspyì˜ ì‹œëŒ€ê°€ ì´ë™ì€ í•˜ì§€ë§Œ ìŠ¤í¬ë¡¤ì„ í•´ì£¼ì§€ëŠ” ì•Šì•„ ì‹œëŒ€ê°€ ë³´ì´ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆë‹¤.  
&nbsp; ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **í˜„ì¬ í™”ë©´ì˜ ëˆ‚ì´/ì „ì²´í™”ë©´ì˜ ë†’ì´** ë¥¼ í†µí•´ í¼ì„¼í…Œì´ì§€ë¥¼ êµ¬í•˜ê³  scrollspyì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ í¼ì„¼í…Œì´ì§€ì— ë§ì¶° ì£¼ë©´ í•´ê²°ì´ ë  ê±°ë¼ ìƒê°ì„ í–ˆì§€ë§Œ scroll ì´ë²¤íŠ¸ê°€ ì¤‘ë³µ ë°œìƒ í•  ê²½ìš° ë™ê¸°ì²˜ë¦¬ ë•Œë¬¸ì¸ì§€ í™•ì‹¤í•˜ì§€ëŠ” ì•Šì§€ë§Œ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš° ë°œìƒ.  
&nbsp; ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ ë°©ë²•ìœ¼ë¡œ scrollspy ë‚´ë¶€ ì»¨í…ì¸ ì˜ ì–‘ì´ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì— **í˜„ì¬ í™”ë©´ì˜ ëˆ‚ì´/ì „ì²´í™”ë©´ì˜ ë†’ì´** ê°€ 50% ë¥¼ ê¸°ì ìœ¼ë¡œ scrollspyì˜ ìŠ¤í¬ë¡¤ì„ ìµœí•˜ë‹¨ ìµœìƒë‹¨ìœ¼ë¡œ ì˜®ê²¨ì£¼ëŠ” ê²ƒìœ¼ë¡œ í•´ê²° í•˜ì˜€ë‹¤.

<details markdown="1">
  <summary>ğŸ“ ì½”ë“œ</summary>

``` js
window.addEventListener("scroll", (event) => {
    var current_height = this.scrollY;
    var total_height = $("html").height();
    var current_height_percent = scrollY/total_height;

    if (current_height_percent < 0.5)
    {
        check_scrollbar = 0;
    }else{
        check_scrollbar = 1;
    }

    if (check_scrollbar != save_result){
        setTimeout(function() {
            if (check_scrollbar == 0){
                $("#navbar-example3").scrollTop(0);
                save_result = 0;
            }else{
                $("#navbar-example3").scrollTop(1000);
                save_result = 1;
            }
        }, 700);
    }
});
```
</details>

<br/>

![print3](/videos/scrollspy2.gif)

---

**Link :** [Art box - Gallery](http://118.67.142.110:8000/show_data "Art box - Gallery"){:target="_blank"}  